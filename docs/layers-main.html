---
layout: default
title: Character Mapping Layers
---

<h2 class="anchor" id="Cmk-eD">
    COLEMAK[eD] - EDITION DREYMAR
</h2>
<p>
    Colemak[edition DreymaR] is the name of the <a href="https://en.wikipedia.org/wiki/AltGr_key"><b>AltGr</b></a> and <a href="https://en.wikipedia.org/wiki/Dead_key"><b>dead key</b></a> layers I've created for the Colemak layout. I've tried to add much functionality while keeping it intuitive. In particular, I want to be able to write different scripts and tech/maths symbols. Since the start, there's been some minor tweaks based on my experience and forum feedback, but it's been stable for a long time now.
</p><p>
    Look inside my various layout files for comments and explanations, in addition to these main design goals:
</p>
<ul class="disc">
    <li>
        Keeping the normal and shifted states of Colemak intact! This is what I think of as the Colemak layout <i>per se</i>.
    </li>    <li>
        Dead keys (see below) easily accessible as unshifted AltGr+symbol keys; common ones in good positions.
    </li>    <li>
        Added special letters and quote signs, allowing most major latin scripts to be written correctly.
    </li>    <li>
        Added symbols/glyphs similar to, e.g., Mac ones - allowing common math/tech/etc typing.
    </li>    <li>
        The positions of added letters and symbols should as far as possible be easy to remember!
    </li>
</ul>
<p>
    See the <a href="layers-colemaked.html"><b>Colemak[eD]</b></a> page if you want to know more.
</p>

<img alt="Cmk ANSI eD" src="res/cmk/Cmk-ANSI-eD_96d-FShui.png" />
<p class="img-text">
    <b>Colemak [edition DreymaR]</b> uses different AltGr mappings from Shai's default Colemak.<br> 
    Shown on an ANSI keyboard with dead key emphasis (golden) and "FingerShui" color-coded fingering.
</p>

<div class="platform-box skip-mac"></div><!-- Colemak-eD -->

<h2 class="anchor" id="Extend">
    EXTEND LAYERS!!!
</h2>
<p>
    Extend is like a special Shift key (usually the Caps key) that brings keys and functions close to the home position ‚Äì as if you had magically <i>extended</i> your fingers.
</p><p>
    This is <b>My Favorite Keyboard Enhancement</b> next to Colemak itself! The ability to navigate and edit from the home position and its immediate surroundings is extremely powerful. It's like having part of the power of advanced editors like Vim ready in all situations. Plus a fully functional multimedia keyboard without sacrificing compactness. And more, much more.
</p><p>
    Really, I cannot stress enough <b>Just How Powerful Extend Is</b> once you understand its workings! It's miles ahead of most other "Fn key" layers, for several reasons including the home row modifiers which lead to an ocean of powerful chording possibilities. Most newcomers don't seem to get this at once, so I urge you to study the <a href="layers-extend.html"><b>Extend Extra Extreme</b></a> page for your own sake. I realize that it may seem like much to learn one more thing, but you will benefit a lot from it. Furthermore, Extend can be learnt gradually a few tricks at a time, and it's much easier to learn than a new keyboard layout.
</p>

<img alt="Extend ISO NoMod Linux Labels" src="res/div/Extend/Extend-ISO-NoMod-Linux_96d-Labels.png" />
<p class="img-text">
    A chart of my <b>Extend</b> mappings (Ext1 ‚Äì Nav/Edit). Green, navigation; blue/circled, mousing; orange, multimedia; gray, system/misc.
</p>

<p>
    Here's the same image with symbolic labels like I use in the <b>EPKL</b> program; for more info see the Extend page and my source files:
</p>
<div class="spoiler">
    <p><span>Symbolic Extend image:</span></p>
    <div class="spoiler-body">
        <img alt="Extend ISO NoMod Linux" src="res/div/Extend/Extend-ISO-NoMod-Linux_96d.png" />
        <p class="img-text">
            My <b>Extend</b> mappings (Ext1 ‚Äì Nav/Edit). Green, navigation; blue/circled, mousing; orange, multimedia; gray, system/misc.
        </p>
    </div>
</div>

<div class="platform-box"></div><!-- Extend -->

<p>
    The Linux/XKB and Windows/EPKL implementations are almost the same. EPKL couldn't yet support mapping to the shifted multimedia keys. Linux usually has poor support for mouse WheelLeft/Right scroll keys so the XKB mappings have a MouseKeys On/Off key on &lt;LSGT&gt; and a Compose/Multi key on Slash instead.
</p><p>
    Holding down AltGr with the Extend modifier you get Extend2: A NumPad layer laid out pretty much like a standard one but with the top row moved around to fit existing keys:
</p>

<img alt="Extend2 ISO NoMod" src="res/div/Extend/Extend2-ISO-NoMod_96d.png" />
<p class="img-text">
    Extend NumPad mappings (Ext2). Green, navigation; purple, NumPad; sepia, symbols; gray, system/misc.
</p>

<p>
    Ideally you can map any modifier to be the Extend "Mod2"/"Mod3" which select between different Extend layers, and only need to hold the Extend key itself after choosing the layer. At the moment though, this works as it should with EPKL and TMK but not XKB.
</p><p>
    There may be a need for navigating while entering numbers, but on the other hand KeyPad keys rarely use modifiers. Hence, I moved the nav block from its UNEI arrow cross to the WARS cross familiar to gamers. Number row keys 1-6 are mapped to their shifted symbols since these may be needed for numeric input, as are some other keys; the bracket keys cater for the parentheses in this layer which feels logical to me.
</p><p>
    In the EPKL implementation for Windows there are four possible Extend layers. One has a set of kaomoji!  ‚òÜ*:.ÔΩ°. o(‚âß‚ñΩ‚â¶)o .ÔΩ°.:*‚òÜ  Be advised though, that one-shot output may be better mapped to sequences like dead keys; see below.
</p>

<div class="platform-box skip-mac"></div><!-- Multi-Extend -->

<p><br>
    <b>Extend quick tips:</b>
</p>
<ul class="disc">
    <li>
        The backtick/tilde key to the left of 1 can be whatever you want to: An extra <kbd>Del</kbd>, <kbd>Ctrl+A</kbd> (Select All), <kbd>Ctrl+W</kbd> (Close), <kbd>Ctrl+T</kbd> (New Tab), <kbd>Win+T</kbd> (Taskbar)...
    </li><li>
        You can do some really fancy stuff with this! <kbd>Ext-A/T+4</kbd>(=<kbd>Alt/Ctrl+F4</kbd>) closes programs/tabs, <kbd>Ext-T+J/H</kbd>(=<kbd>Ctrl+PgUp/PgDn</kbd>) switches tabs...
    </li><li>
        Or try this in a browser: <kbd>Ext-6</kbd> for the address bar, then type an URL, then <kbd>Ext-A+Spc</kbd> to open it in a new tab.
    </li><li>
        Most of these tricks work in many apps under both Windows and Linux these days. Some are application specific.
    </li><li>
        My Extend layer doesn't support letters nor the Win/GUI key, which limits the shortcut repertoire somewhat. But even so there's really a lot you can do! (FYI: There are good reasons for the WheelUp/Dn placements and the lack of a Win key, having to do with keyboard implementations.)
    </li><li>
        As mentioned above, there's more info and tips on the <a href="layers-extend.html"><b>Extend Extra Extreme</b></a> page!
    </li><li>
        There's also a Colemak Forum topic that highlights some <a href="https://forum.colemak.com/topic/2675-share-your-favorite-extend-tricks/"><b>favorite Extend tricks</b></a>; feel free to have a look!
    </li>
</ul>

<h2 class="anchor" id="deadkeys">
    ENHANCED DEAD KEY MAPPINGS
</h2>
<p>
    <a href="https://en.wikipedia.org/wiki/Dead_key">Dead keys</a> are keys that don't produce direct output but instead modify the following key press. They are traditionally used for accents such as acute (¬¥), grave (`) etc, but it's possible to do a lot more with them and they can actually produce any valid output on release. So in addition to pressing the acute dead key then a to produce √° for instance, with my DK mappings you could also press a number key to produce a superscript number! Almost all my DKs have "bonuses" like that. See below for a few examples, but bear in mind that the images shown here may not be fully updated.
</p><p>
    Some of the traditional dead keys are almost empty: The doubleacute one only caters for ≈ë ≈±, and ring only caters for √• ≈Ø ·∫ò ·∫ô. There's also a whole iota dead key that only concerns itself with Greek characters. I've stuffed good things into many of those cracks even if it's not an entirely logical thing to do since the name of the dead key wouldn't quite reflect these extra mappings. If you use up layout space on a dead key it really shouldn't sit there taking up room for the meager purpose of providing 2-3 glyphs! So suddenly, the doubleactute DK doubles as a Science/Math DK and the ring DK is the new home of several ring symbols and ligatures! ‚ò∫
</p><p>
    Dead keys are a central element of many of my locale layout solutions for people who need accented characters. But the default Colemak[eD] layout has a lot of dead keys to play with, albeit hidden away a bit on the AltGr layer. So using Colemak[eD], anyone can type nearly any symbol they may need. Let me know if you're missing any important ones!
</p>
<img alt="Colemak[eD]-Angle layout, AltGr state" src="res/cmk/Colemak-eD_s6_EPKL.png" />
<p class="img-text">
    The Colemak[eD] AltGr layer on an Angle-ISO board. Note all the dead keys marked in pretty yellow.
</p>
<p>
    There are currently 19 dead keys in my Colemak[eD] layout. The common accents are there, together with a currency dead key on AltGr+4 and a Greek phonetic dead key on AltGr+5. Furthermore, some sparsely populated accent keys have been enhanced with extra content, such as superscripts/subscripts on acute/grave, fractions and negations on stroke/bar and ring symbols on ringabove. The most extensively reworked key is the double-acute which used to have only Uu and Oo and now contains a fairly rich set of math/science symbols (think of the double acute as akin to the equals and prime signs)! You really have to see them to believe them ‚Äì I'll showcase some below but you can see them all using EPKL (default Ctrl+Shift+1 for the help images):
</p><p>
    01) Dot below <br>
    02) Hook, palatal hook <br>
    03) Horn, retroflex hook/tail <br>
    04) Currency:
</p>
<img class="img-small" alt="dk04 currency" src="res/win/Cmk-eD_PKL-DKs_45d/dk04_currency.png" />
<img class="img-small" alt="dk04sh currency" src="res/win/Cmk-eD_PKL-DKs_45d/dk04sh_currency.png" />

<p>
    05) Greek (phonetic):
</p>
<img class="img-small" alt="dk05 greek" src="res/win/Cmk-eD_PKL-DKs_45d/dk05_greek.png" />
<img class="img-small" alt="dk05sh greek" src="res/win/Cmk-eD_PKL-DKs_45d/dk05sh_greek.png" />

<p>
    06) Circumflex <br>
    07) Caron <br>
    08) Ogonek, comma below <br>
    09) Breve <br>
    10) Ring above, ring symbols, ligatures <br>
    11) Macron <br>
    12) Double-acute, math/science: <br>
</p>
<img class="img-small" alt="dk12 dblacutesi" src="res/win/Cmk-eD_PKL-DKs_45d/dk12_dblacutesci.png" />
<img class="img-small" alt="dk12sh dblacutesi" src="res/win/Cmk-eD_PKL-DKs_45d/dk12sh_dblacutesci.png" />

<p>
    13) Umlaut/diaeresis <br>
    14) Tilde <br>
    15) Acute, superscripts
</p>
<img class="img-small" alt="dk15 acute" src="res/win/Cmk-eD_PKL-DKs_45d/dk15_acute.png" /> 
<img class="img-small" alt="dk15sh acute" src="res/win/Cmk-eD_PKL-DKs_45d/dk15sh_acute.png" /> 

<p>
    16) Grave, subscripts <br>
    17) Cedilla <br>
    18) Dot above <br>
    19) Stroke/bar, fractions
</p>
<img class="img-small" alt="dk19 stokebar" src="res/win/Cmk-eD_PKL-DKs_45d/dk19_strokebar.png" /> 
<img class="img-small" alt="dk19sh stokebar" src="res/win/Cmk-eD_PKL-DKs_45d/dk19sh_strokebar.png" />

<p>
    <b>Note:</b> Colemak[eD] dead keys are designed to interact in clever ways through chaining: The 'Ring (¬∞)' DK then 'angle (‚à†)' will produce 'arced angle (‚à°)', the 'Tilde (~)' DK with 'equals (=)' will produce 'equal or approximately equal (‚âÖ)', the Stroke DK with many symbols will produce slashed symbols (e.g., from '=' you get '‚â†') etc. The sequence you press the dead keys in may matter: Usually, start with the modifier(s) (such as 'stroke' for "not") then the symbol-producing key (such as 'maths' and then '=' which will usually produce '‚â°' but now gives you '‚â¢' instead). At the moment, the only documentation for all this cleverness is snoping around the PKL layout.ini files, but logic will take you far too.
</p><p>
    A goodly way down on my TODO list, I've planned to make a set of IPA dead keys to allow people to write phonetics easily and quite intuitively. It'll still be a while before I get around to it I'm afraid... Contact me if you wish to help make it happen!
</p>

<div class="platform-box skip-tmk skip-mac"></div><!-- DeadKeys -->

<h2 class="anchor" id="sequences">
    SEQUENCING
</h2>
<p>
    Modifiers like <kbd>Shift</kbd>, <kbd>Control</kbd> and <kbd>Extend</kbd> are <b>chording modifiers</b>: You hold them down while hitting the keys they modify, to access other layers. Dead keys and sticky/one-shot modifiers are <b>sequencing</b> or <b>leader keys</b> that modify following output. The <kbd>Compose</kbd> key is another sequencing key, that's pressed either before or after typing a sequence that you want translated into specific output.
</p><p>
    As described in an interesting article by <a href="http://xahlee.info/kbd/banish_key_chords.html">Xah Lee</a>, chording isn't always the best answer. For one-shot output like a special symbol or a single command, key sequences are generally better. The Alt key in Windows for instance, lets you access menu items by tapping a letter sequence like <b>{Alt,F,T}</b> (<u>F</u>ile ‚Üí <u>T</u>ab) to open a new tab, which is intuitive and easily learnt by looking at the menus the first few times. Another good example is the <b>Compose</b> method used in Linux that can be activated either by any desired key combination similar to Autocorrect, or by a designated sequencing key such as a dead key or the Compose key.
</p><p>
    Even a "tap-dance" of several key strokes can be preferable to chording for many one-shot needs. Holding down keys is more tiring than tapping out a sequence, and the more contorted a chord gets the worse it will be. All tap-dances aren't created equal either, and I much prefer ones that use easily reachable keys and no same-finger bigrams. Tapping the same key several times is not the best of ideas.
</p><p>
    Sequences can be more mnemonic than layers. Let's say I want to map the old English letter <a href="https://en.wikipedia.org/wiki/Hwair">Hwair (a / ç/ sound like in the Scottish pronounciation of 'who')</a> to my layout for occasional use. With layers I'd have to remember where I had put it and on which layer ... hmmm, tricky. Help images like in the EPKL program can be very helpful there for sure, but only to some extent. If, on the other hand, I implement it as a Compose sequence I could for instance just type 'hw' and hit a Compose key to get a '∆ï'. That's much easier to remember, don't you think? But only practical if it's not used all the time. If I were writing a book about Old English, I'd have the letters «∂∆ï »¢»£ »ú»ù and «∑∆ø somewhere in a handy layer for sure, and from frequent use I'd quickly learn where I'd put them.
</p><p>
    Sequences provide for near endless complexity, but chorded layers like Extend let you do many similar operations without trigging them separately each time. So for navigation/editing like selecting the previous word then moving it to the end of the paragraph or, say, for entering numbers, chorded (or modal) layers are perfect.
</p><br>
<h4>Dead keys</h4><p>
    <a href="layers-main.html#deadkeys"><b>Dead keys</b></a>, as described above, can be great for mapping one-shot output like special and accented letters and symbols, without holding a modifier like AltGr down. They're the shortest sequences, only using one leader key and one release key to produce output (e.g., the Acute DK <kbd>¬¥</kbd> then <kbd>A</kbd> for '<b>√°</b>'). With a battery of DKs you can fit in a whole bunch of symbols on fairly intuitive mappings!
</p><p>
    On the downside, DK layers like AltGr layers can easily get crowded if, there are many symbols based on the same letter, or you want to map symbols that aren't based on letters or numbers. And since you'll likely need many DKs you may have to hold a modifier to access the DK in the first place; all my ‚âà20 DKs require you to press AltGr first unless you're using a locale variant that has the most needed of them on base layers. Dead keys are compact, but not very flexible.
</p>
<h4>Compose</h4><p>
    <a href="https://en.wikipedia.org/wiki/Compose_key#Compose_sequences"><b>Compose</b></a> is a wonderful method based on easy-to-remember sequences for one-shot output. Linux users may know and use it with sequences like <kbd>Compose</kbd><kbd>e</kbd><kbd>'</kbd> producing the accented letter <b>√©</b> ("e acute"), and <kbd>Compose</kbd><kbd>1</kbd><kbd>2</kbd> producing the symbol <b>¬Ω</b> ("one-half").
</p><p>
    You can edit the tables and add pretty much anything though! In the EPKL program for Windows I've added a whole bunch of new sequences for boilerplate text or even emoji sequences such as <kbd>'noevil</kbd> composing to 'üôà üôâ üôä'. You can even compose a sequence like <kbd>U1f4aa</kbd> to input <i>any</i> Unicode character if you know its code point! üí™
</p><p>
    Compose key sequences are similar to dead keys, and in Linux/XKB the same method is used for both. Generally though, DKs are more compact (maybe only two key presses needed) but less flexible, while Compose sequences are very flexible but less compact.
</p>
<h4>Repeating</h4><p>
    <kbd>Repeat</kbd> is a very basic context-dependent key. It simply repeats your previous character ‚Äì but that's actually really useful. A central principle for improved keyboard layouts is to keep same-finger bigram (SFB) frequency low. According to NotGate who inspired me to try out repeating, there are far more repeated letters than other SFBs in good layouts today: Analysis using an English text corpus shows <a href="https://blogs.sas.com/content/iml/2014/10/03/double-letter-bigrams.html">a 2.5% repeating-letter bigram frequency</a> in total, vs for instance <a href="http://colemakmods.github.io/mod-dh/analyze.html">the 1.7% SFB frequency of Colemak</a>. You can actually benefit from a Repeat key whether your layout is optimized or not.
</p><p>
    One problem is where to place your Repeat key. I've tried it in the old QWERTY <kbd>B</kbd> position, which is available using the <a href="ergo-mods.html#AngleWide">ISO-Angle</a> ergo mod. That position has the interesting feature of being useable for both index fingers, but I ended up preferring a thumb key on the non-spacing thumb and I'm loving it. See the <a href="ergo-mods.html#modifiers">Modifiers</a> section for more info.
</p><p>
    My Repeat implementation is only in EPKL for Windows yet, but it isn't hard to do it with TMK/QMK controller coding or simple AHK code ‚Äì see the bottom of <a href="https://notgate.github.io/layout/">NotGate's ISRT page</a> for examples.
</p>
<h4>Completion</h4><p>
    <kbd>Complete</kbd> is a next-level context dependent key. It adds characters depending on what you just typed. Completion is closely related to Composing: The main difference is that instead of replacing a recognized sequence, you add to it. You could even have the same key be either a Complete or Compose key depending on what you just typed.
</p><p>
    You could use <a href="https://github.com/DreymaR/BigBagKbdTrixPKL/blob/0a308410c0ebba2de26b5ac16a7464812e3abec5/Files/_eD_Compose.ini#L849">Completion to avoid SFBs</a>: On Colemak, <kbd>S</kbd> then <kbd>Complete</kbd> could become 'SC' and completing <kbd>C</kbd> could become 'CS'; <kbd>U</kbd> for 'UE', etc. Then, you could also <a href="https://github.com/DreymaR/BigBagKbdTrixPKL/blob/0a308410c0ebba2de26b5ac16a7464812e3abec5/Files/_eD_Compose.ini#L880">Complete longer n-grams</a> such as the common 'THE' on <kbd>T</kbd>, 'AND ' on <kbd>A</kbd>, 'ION' (or 'ING') on <kbd>I</kbd>, etc; these are less common than the most common bigrams but they give more "bang for the buck". What to use would depend on your keyboard layout.
</p><p>
    The main issue with Completion, besides finding a good position for it, is that it's hard to learn for normal typing. I haven't tried it much, but remembering that 'SC' is S-then-Complete etc etc when typing fast is probably as much mental effort as learning a new layout. It's almost a baby step towards <a href="https://en.wikipedia.org/wiki/Stenotype">stenotyping</a>, albeit without chording. While potentially fast and efficient, it is hard to learn and use.
</p>
<h4>Extend-Tap</h4><p>
    <a href="layers-extend.html#ext-tap"><b>Extend-tap</b></a> is a neat way of supercharging your Extend key for both chording and sequencing in one key! The Extend key can be a multi-layer dual-function key that produces different one-shot (dead key) or chording (modifier) layers based on the shift state at the time of tapping or holding it down. This way it can be a gate to the best of both the chording and sequencing worlds. I call such a multi-mode modifier a <b>Mother-of-DeadKeys (MoDK)</b> Extend key. Sadly, this isn't available on all platforms.
</p>
<h4>CoDeKey</h4><p>
    <b>CoDeKey</b> is another supercharged key, only available in EPKL for Windows at the moment. This one is a Compose key if you've entered a recognized Compose sequence beforehand. If not, it becomes a dead key instead and waits for a release key press! I use it quite a lot these days, as a thumb key. With it, I can compose anything I like, but also type for instance Period-Space-Shift more easily as <kbd>CoDeKey</kbd> then a home-row key ‚Äì with other home row keys for other punctuation. I think it's amazing!
</p><p>This table holds some CoDeKey dead key mappings that I like a lot. Naturally, you're free to experiment and complement.</p>
<pre><code>
+===========+===========+========================+
|  Cmk Key  |  QWE Key  |  Effect after CoDeKey  |
+===========+===========+========================+
|  N        |  J        |  ! ‚Üí Space ‚Üí Shift     |
|  E        |  K        |  , ‚Üí Space             |
|  I        |  L        |  . ‚Üí Space ‚Üí Shift     |
|  O        |  ;        |  ? ‚Üí Space ‚Üí Shift     |
|  ;        |  P        |  : ‚Üí Space             |
|  -        |  -        |  Space ‚Üí - ‚Üí Space     |
|  U        |  I        |  Space ‚Üí (             |
|  Y        |  O        |          ) ‚Üí Space     |
|  Q        |  Q        |  Escape                |
|  D        |  C        |  Delete Previous Word  |
|  [ ] /    |  [ ] /    |  locale/custom glyphs  |
+-----------+-----------+------------------------+
</code></pre>
